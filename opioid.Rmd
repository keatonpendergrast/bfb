---
title: "opioid"
author: "Keaton Pendergrast"
date: "2/13/2020"
output: html_document
---

```{r}
## set libraries needed
library(tidyverse)
library(foreign)
library(funModeling)
library(Hmisc)
library(DataExplorer)
library(readr)
```

```{r}
#pull in the datasets
urlfile="https://media.githubusercontent.com/media/keatonpendergrast/bfb/master/2007.tsv?token=AORSSRNHHCM7QQMBX7FXFBS6I5YZO"

seven <- read.table(url(urlfile), sep = '\t', header = TRUE)

urlfile="https://media.githubusercontent.com/media/keatonpendergrast/bfb/master/2008.tsv?token=AORSSRJT5WIAIO5XAAVZKPK6I5ZNI"

eight <- read.table(url(urlfile), sep = '\t', header = TRUE)

urlfile="https://media.githubusercontent.com/media/keatonpendergrast/bfb/master/2009.tsv?token=AORSSRMLDOOYV6M2R24TQTC6I5ZQ6"

nine <- read.table(url(urlfile), sep = '\t', header = TRUE)

urlfile="https://media.githubusercontent.com/media/keatonpendergrast/bfb/master/2010.csv?token=AORSSRJ3OC72OJ37KMIBWSK6I52SM"

ten <- read.csv(url(urlfile))

eleven <- read.dta("/Users/keatonpendergrast/Desktop/302w/project/datasets/2011.dta")
twelve <- read.dta("/Users/keatonpendergrast/Desktop/302w/project/datasets/2012.dta")
thirteen <- read.dta("/Users/keatonpendergrast/Desktop/302w/project/datasets/2013.dta")
fourteen <- read.dta("/Users/keatonpendergrast/Desktop/302w/project/datasets/2014.dta")
fifteen <- read.dta("/Users/keatonpendergrast/Desktop/302w/project/datasets/2015.dta")
sixteen <- read.dta("/Users/keatonpendergrast/Desktop/302w/project/datasets/2016.dta")
```

```{r}
#select for the variables we are interested in
seven_clean <- select(seven, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

eight_clean <- select(eight, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

nine_clean <- select(nine, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

ten_clean <- select(ten, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

eleven_clean <- select(eleven, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

twelve_clean <- select(twelve, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

thirteen_clean <- select(thirteen, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

fourteen_clean <- select(fourteen, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

fifteen_clean <- select(fifteen, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)

sixteen_clean <- select(sixteen, PHYCODE, PATCODE, SENBEFOR, RFV1, RFV2, RFV3, INJURY, CONTSUB1, CONTSUB2, CONTSUB3, CONTSUB4, CONTSUB5, CONTSUB6, CONTSUB7, CONTSUB8, MED1, MED2, MED3, MED4, MED5, MED6, MED7, MED8, NCMED1, NCMED2, NCMED3, NCMED4, NCMED5, NCMED6, NCMED7, NCMED8)
```
